{
    "collab_server" : "",
    "contents" : "library(shiny)\nlibrary(shinydashboard)\n\n#############\n## vetores ##\n#############\n\nabrangencias = c('Estados' = 'estados', 'Capitais' = 'capitais')\n\nmeses = c('Outubro / 2017' = 'out/17',\n          'Setembro / 2017' = 'set/17',\n          'Agosto / 2017' = 'ago/17',\n          'Julho / 2017' = 'jul/17',\n          'Junho / 2017' = 'jun/17'\n)\n\ninformacoes = c('Admitidos' = 'admitidos', 'Desligados' = 'desligados', 'Varia\\u00e7\\u00e3o absoluta' = 'variacoes')\n\nvariaveis = c('Faixa et\\u00e1ria' = 'faixa_etaria',\n              'Grau de instru\\u00e7\\u00e3o' = 'grau_de_instrucao',\n              'Setor' = 'setor',\n              'Sexo' = 'sexo',\n              'Total' = 'total'\n)\n\nfaixas = c('At\\u00e9 17 anos' = 'ate_17',\n           'De 18 a 24 anos' = 'de_18_a_24',\n           'De 25 a 29 anos' = 'de_25_a_29',\n           'De 30 a 39 anos' = 'de_30_a_39',\n           'De 40 a 49 anos' = 'de_40_a_49',\n           'De 50 a 64 anos' = 'de_50_a_64',\n           '65 anos ou mais' = 'de_65_ou_mais'\n)\n\ngraus = c('Analfabeto' = 'analfabeto',\n          'At\\u00e9 a 5\\u00aa incompleto' = 'ate_5a_incompleto',\n          '5\\u00aa completo fundamental' = 'de_5a_completo_fundamental',\n          '6\\u00aa a 9\\u00aa fundamental' = 'de_6a_a_9a_fundamental',\n          'Fundamental completo' = 'fundamental_completo',\n          'M\\u00e9dio incompleto' = 'medio_incompleto',\n          'M\\u00e9dio completo' = 'medio_completo',\n          'Superior incompleto' = 'superior_incompleto',\n          'Superior completo' = 'superior_completo'\n)\n\nsetores = c('Agropecu\\u00e1ria' = 'agropecuaria',\n            'Industria' = 'industria',\n            'Com\\u00e9rcio' = 'comercio',\n            'Constru\\u00e7\\u00e3o civil' = 'construcao_civil',\n            'Servi\\u00e7o' = 'servicos'\n)\n\nsexos = c('Feminino' = 'feminino', 'Masculino' = 'masculino')\n\ntotais = c('Total' = 'total')\n\n#############\n## funcoes ##\n#############\n\ncategorias <- function(pVariavel) {\n  switch(pVariavel,\n         'faixa_etaria' = {faixas},\n         'grau_de_instrucao' = {graus},\n         'setor' =  {setores},\n         'sexo' = {sexos},\n         'total' = {totais}\n  )  \n}\n\ndataModal <- function() {\n  modalDialog(\n    easyClose = FALSE,\n    fade = TRUE,\n    size = \"s\",\n    title = \"CAGED\",\n    selectInput(inputId = 'selectAbrangencia',\n                label = 'Abrang\\u00EAncia:',\n                choices = abrangencias,\n                selected = 'estados'\n    ),\n    selectInput(inputId = 'selectMes',\n                label = 'M\\u00EAs:',\n                choices = meses,\n                selected = 'out/17'\n    ),\n    selectInput(inputId = 'selectInformacao',\n                label = 'Informa\\u00E7\\u00E3o:',\n                choices = informacoes,\n                selected = 'variacoes'\n    ),\n    selectInput(inputId = 'selectVariavel',\n                label = 'Vari\\u00e1vel:',\n                choices = variaveis,\n                selected = 'total'\n    ),\n    uiOutput(outputId = 'controleX'),\n    footer = tagList(\n      modalButton(\"Cancel\"),\n      actionButton(inputId = 'buttonOk',\n                   label = 'Ok'\n      )\n    )\n  )\n}\n\n########\n## ui ##\n########\n\nheader <- dashboardHeader(\n  title = \"SIG Web Aberto\"\n)\n\nsidebar <- dashboardSidebar(\n  sidebarMenu(\n    menuItem(\n      text = tags$span(\"IBGE - Instituto Brasileiro\", tags$br(), \"de Geografia e Estatística\"),\n      icon = icon(\"th\"),\n      startExpanded = TRUE,\n      menuSubItem(\n        text = tags$span(\"PNAD\", title = \"Pesquisa Nacional por Amostra de Domicílios\"),\n        selected = TRUE,\n        tabName = \"PNAD\"\n      )\n    ),    \n    menuItem(\n      text = tags$span(\"Ministério do Trabalho e\", tags$br(), \"Previdência Social\"),\n      icon = icon(\"th\"),\n      menuSubItem(\n        text = tags$span(\"CAGED\", title = \"Cadastro Geral de Empregados e Desempregados\"),\n        tabName = \"CAGED\"\n      ),\n      menuSubItem(\n        text = tags$span(\"RAIS\", title = \"Relação Anual de Informações Sociais\"),\n        tabName = \"RAIS\"\n      )\n    )\n  )  \n)\n\nbody <- dashboardBody(\n  tabItems(\n    tabItem(tabName = \"CAGED\",\n            actionButton(inputId = 'buttonCAGED',\n                         label = 'CAGED'\n            )\n    ),\n    tabItem(tabName = \"PNAD\",\n            div(p(\"PNAD\"))\n    ),\n    tabItem(tabName = \"RAIS\",\n            div(p(\"RAIS\"))\n    )\n  )\n)\n\nui <- dashboardPage(header, sidebar, body)\n\n############\n## server ##\n############\n\nserver <- function(input, output) {\n  output$controleX <- renderUI(\n    selectInput(inputId = 'selectCategoria', label = 'Categoria:', choices = categorias(input$selectVariavel))  \n  )   \n  \n  observeEvent(input$buttonCAGED, {\n    showModal(dataModal())    \n  })\n  \n  observeEvent(input$buttonOk, {\n    cat('Ok\\n')\n    removeModal()\n  })  \n}\n\n#########\n##     ##\n#########\n\nshinyApp(ui, server)\n",
    "created" : 1513791166386.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "839067363",
    "id" : "7315416A",
    "lastKnownWriteTime" : 1513792271,
    "last_content_update" : 1513792271963,
    "path" : "C:/Home/Trabalho/projetos-r/sigwebaberto/app.R",
    "project_path" : "app.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}